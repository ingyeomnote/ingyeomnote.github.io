{{ define "main" }}
<h1>{{ .Title }}</h1>

{{ .Content }}

{{ if .Pages }}
{{ $listClass := "post-list" }}
{{ if eq .Type "categories" }}
    {{ $listClass = "category-list" }}
{{ else if eq .Type "tags" }}
    {{ $listClass = "tag-list" }}
{{ end }}

<ul class="{{ $listClass }}">
    {{ range .Pages.ByPublishDate.Reverse }}
    <li>
        {{ if or (eq $.Type "categories") (eq $.Type "tags") }}
        <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
        <div class="post-meta">
            <span>{{ len .Pages }} 개의 포스트</span>
        </div>
        {{ else }}
        <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
        <div class="post-meta">
            <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "2006년 1월 2일" }}</time>
            {{ if .Params.tags }}
            | Tags:
            {{ range .Params.tags }}
            <a href="{{ "/tags/" | relURL }}{{ . | urlize }}">{{ . }}</a>
            {{ end }}
            {{ end }}
        </div>
        {{ if .Description }}
        <p>{{ .Description }}</p>
        {{ else if .Summary }}
        <p>{{ .Summary }}</p>
        {{ end }}
        {{ end }}
    </li>
    {{ end }}
</ul>
{{ end }}
{{ end }}
